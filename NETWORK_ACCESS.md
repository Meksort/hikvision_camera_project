# Доступ к проекту из локальной сети

## Текущие настройки

Проект уже настроен для доступа из локальной сети:
- ✅ Сервер запускается на `0.0.0.0:8000` (доступен из сети)
- ✅ `ALLOWED_HOSTS = ["*"]` (разрешает все хосты)

## Как запустить сервер

Просто запустите:
```bash
start.bat
```

Или вручную:
```bash
python manage.py runserver 0.0.0.0:8000
```

## Как узнать IP адрес вашего компьютера

### Способ 1: Через командную строку
```bash
ipconfig
```
Найдите строку "IPv4 Address" - это ваш IP в локальной сети (например, `192.168.1.100`)

### Способ 2: Через PowerShell
```powershell
Get-NetIPAddress -AddressFamily IPv4 | Where-Object {$_.InterfaceAlias -notlike "*Loopback*"}
```

### Способ 3: Через настройки Windows
1. Откройте "Параметры" → "Сеть и Интернет"
2. Выберите ваш сетевой адаптер (Wi-Fi или Ethernet)
3. Найдите "IPv4-адрес"

## Доступ из других устройств в локальной сети

После запуска сервера, другие устройства в той же локальной сети смогут получить доступ по адресу:

**IP адрес сервера: `192.168.1.129`**

- `http://192.168.1.129:8000/` - главная страница
- `http://192.168.1.129:8000/admin/` - админка (admin/admin123)
- `http://192.168.1.129:8000/report/` - отчеты
- `http://192.168.1.129:8000/attendance-stats/` - статистика
- `http://192.168.1.129:8000/api/camera-events/` - API для приема событий от камер
- `http://192.168.1.129:8000/api/entries-exits/` - API записей входов/выходов
- `http://192.168.1.129:8000/api/attendance-stats/` - API статистики посещаемости

## Настройка файрвола Windows

Если другие устройства не могут подключиться, нужно разрешить входящие подключения на порт 8000:

### Через графический интерфейс:
1. Откройте "Панель управления" → "Система и безопасность" → "Брандмауэр Защитника Windows"
2. Нажмите "Дополнительные параметры"
3. Выберите "Правила для входящих подключений" → "Создать правило"
4. Выберите "Порт" → "TCP" → "Определенные локальные порты: 8000"
5. Выберите "Разрешить подключение"
6. Примените ко всем профилям
7. Назовите правило (например, "Django Server")

### Через PowerShell (от администратора):
```powershell
New-NetFirewallRule -DisplayName "Django Server" -Direction Inbound -LocalPort 8000 -Protocol TCP -Action Allow
```

## Проверка доступности

### С того же компьютера:
```bash
curl http://localhost:8000/api/camera-events/
```

### С другого устройства в сети:
```bash
curl http://192.168.1.129:8000/api/camera-events/
```

## Важные замечания

⚠️ **Безопасность:**
- Сервер запущен в режиме разработки (`DEBUG=True`)
- Это НЕ безопасно для использования в интернете
- Используйте только в локальной сети
- Для production используйте настоящий веб-сервер (nginx + gunicorn/uwsgi)

⚠️ **Производительность:**
- Встроенный сервер Django не предназначен для большой нагрузки
- Для production используйте специализированные серверы

## Решение проблем

### Проблема: Не могу подключиться с другого устройства

1. **Проверьте IP адрес:**
   - Убедитесь, что используете правильный IP
   - IP должен быть в той же подсети (например, 192.168.1.x)

2. **Проверьте файрвол:**
   - Убедитесь, что порт 8000 открыт в файрволе Windows

3. **Проверьте, что сервер запущен:**
   - В консоли должно быть: `Starting development server at http://0.0.0.0:8000/`

4. **Проверьте сеть:**
   - Убедитесь, что устройства в одной сети
   - Попробуйте пропинговать IP: `ping ВАШ_IP`

### Проблема: Ошибка "DisallowedHost"

Если видите ошибку `DisallowedHost`, проверьте:
- `ALLOWED_HOSTS` в `settings.py` должен содержать `"*"` или ваш IP
- Перезапустите сервер после изменения настроек

