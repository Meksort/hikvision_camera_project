# Проверка графиков за 20 и 21 декабря для сотрудника "Абай Нурлан"

## Созданные скрипты

Созданы два скрипта для проверки данных:

1. **check_december_20_21.py** - Полная проверка с детальным выводом
2. **check_employee_dec_20_21.py** - Упрощенная версия с лучшей обработкой ошибок

## Как запустить скрипты

### Если проект запущен в Docker:

```bash
docker-compose exec web python check_employee_dec_20_21.py
```

### Если проект запущен локально:

```bash
python check_employee_dec_20_21.py
```

## Альтернативный способ через API

Если Django сервер запущен, можно использовать API:

**Для 20 декабря:**
```
http://192.168.1.25:8000/api/v1/entries-exits/check-date/?date=2025-12-20
```

**Для 21 декабря:**
```
http://192.168.1.25:8000/api/v1/entries-exits/check-date/?date=2025-12-21
```

Затем в ответе JSON найдите данные для сотрудника "Абай Нурлан" по его `hikvision_id`.

## Данные из таблицы (по изображению)

### 20 декабря 2025 (Суббота)

- **Тип графика:** Круглосуточный
- **Время графика:** 09:00-09:00
- **Время входа:** 07:21:00 ⚠️ (выделено красным)
- **Время выхода:** 08:25:12 ⚠️ (выделено красным)
- **Продолжительность работы:** (не указана в описании, но должна быть ~1ч 4м)

### 21 декабря 2025 (Воскресенье)

Данные за 21 декабря не видны в предоставленном изображении. Необходимо проверить через скрипт или API.

## Что показывают скрипты

Скрипты выводят:

1. **Сырые события (CameraEvent):**
   - Все события с камер за указанные даты
   - Время события
   - Тип события (ВХОД/ВЫХОД)
   - Устройство (камера)

2. **Рассчитанные записи (EntryExit):**
   - Время входа
   - Время выхода
   - Продолжительность работы
   - Статус (полная/неполная запись)

## Примечания

- Красное выделение в таблице может указывать на:
  - Аномалии во времени входа/выхода
  - Отклонения от графика
  - Проблемы с данными

- Для 20 декабря видно, что:
  - Вход был в 07:21:00 (раньше запланированного 09:00)
  - Выход был в 08:25:12 (раньше запланированного 09:00 следующего дня)
  - Это может указывать на короткую смену или проблему с данными

